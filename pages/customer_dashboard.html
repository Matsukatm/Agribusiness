<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>My Dashboard - GreenGrove Market</title>
    <link rel="stylesheet" href="../css/main.css" />
    <meta name="description" content="Manage your orders, bookings, and garden journey. Track your sustainability impact with GreenGrove Market." />
<script type="module" src="https://static.rocket.new/rocket-web.js?_cfg=https%3A%2F%2Fgreengrove7653back.builtwithrocket.new&_be=https%3A%2F%2Fapplication.rocket.new&_v=0.1.8"></script>
</head>
<body class="bg-background">
    <!-- Header Navigation -->
    <header class="bg-white shadow-sm sticky top-0 z-50">
        <nav class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <!-- Logo -->
                <div class="flex items-center">
                    <svg class="h-10 w-10 text-primary" viewBox="0 0 40 40" fill="currentColor">
                        <path d="M20 2C15.5 2 12 5.5 12 10c0 2.5 1 4.8 2.6 6.5L20 22l5.4-5.5C27 14.8 28 12.5 28 10c0-4.5-3.5-8-8-8zm0 11c-1.7 0-3-1.3-3-3s1.3-3 3-3 3 1.3 3 3-1.3 3-3 3z"/>
                        <path d="M8 25c0-2 1.5-3.5 3.5-3.5h17c2 0 3.5 1.5 3.5 3.5v10c0 2-1.5 3.5-3.5 3.5h-17C9.5 38.5 8 37 8 35V25z"/>
                        <circle cx="15" cy="30" r="2" fill="white"/>
                        <circle cx="25" cy="30" r="2" fill="white"/>
                    </svg>
                    <span class="ml-3 text-xl font-poppins font-bold text-primary">GreenGrove Market</span>
                </div>

                <!-- Desktop Navigation -->
                <div class="hidden md:flex items-center space-x-8">
                    <a href="homepage.html" class="text-text-secondary hover:text-primary transition-colors">Home</a>
                    <a href="product_marketplace.html" class="text-text-secondary hover:text-primary transition-colors">Shop Groceries</a>
                    <a href="garden_services_hub.html" class="text-text-secondary hover:text-primary transition-colors">Garden Services</a>
                    <a href="knowledge_center.html" class="text-text-secondary hover:text-primary transition-colors">Knowledge Center</a>
                    <a href="customer_dashboard.html" class="text-primary font-medium hover:text-secondary transition-colors">My Account</a>
                    <a href="contact_support.html" class="text-text-secondary hover:text-primary transition-colors">Support</a>
                </div>

                <!-- Mobile Menu Button -->
                <button class="md:hidden p-2" onclick="toggleMobileMenu()">
                    <svg class="h-6 w-6 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
                    </svg>
                </button>
            </div>

            <!-- Mobile Navigation Menu -->
            <div id="mobileMenu" class="hidden md:hidden pb-4">
                <div class="flex flex-col space-y-3">
                    <a href="homepage.html" class="text-text-secondary hover:text-primary transition-colors py-2">Home</a>
                    <a href="product_marketplace.html" class="text-text-secondary hover:text-primary transition-colors py-2">Shop Groceries</a>
                    <a href="garden_services_hub.html" class="text-text-secondary hover:text-primary transition-colors py-2">Garden Services</a>
                    <a href="knowledge_center.html" class="text-text-secondary hover:text-primary transition-colors py-2">Knowledge Center</a>
                    <a href="customer_dashboard.html" class="text-primary font-medium py-2">My Account</a>
                    <a href="contact_support.html" class="text-text-secondary hover:text-primary transition-colors py-2">Support</a>
                </div>
            </div>
        </nav>
    </header>

    <!-- Dashboard Header -->
    <section class="bg-gradient-to-br from-primary-50 to-secondary-50 py-8">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex flex-col md:flex-row md:items-center md:justify-between">
                <div class="mb-4 md:mb-0">
                    <h1 class="text-3xl font-poppins font-bold text-primary mb-2">Welcome back, Sarah!</h1>
                    <p class="text-text-secondary">Your fresh journey continues with GreenGrove Market</p>
                </div>
                <div class="flex items-center space-x-4">
                    <div class="bg-white rounded-lg px-4 py-2 shadow-sm">
                        <div class="flex items-center space-x-2">
                            <div class="w-2 h-2 bg-success rounded-full animate-pulse"></div>
                            <span class="text-sm font-medium text-success-700">Active Member</span>
                        </div>
                    </div>
                    <div class="bg-accent-100 rounded-lg px-4 py-2">
                        <span class="text-sm font-medium text-accent-700">2,847 Reward Points</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Dashboard Content -->
    <section class="py-8">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <!-- Quick Actions -->
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-8">
                <a href="product_marketplace.html" class="card p-4 text-center hover:shadow-md transition-shadow">
                    <svg class="h-8 w-8 text-accent mx-auto mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-2.5 2.5M7 13l2.5 2.5m6 0L19 18H7"/>
                    </svg>
                    <span class="text-sm font-medium text-primary">Shop Now</span>
                </a>
                <a href="garden_services_hub.html" class="card p-4 text-center hover:shadow-md transition-shadow">
                    <svg class="h-8 w-8 text-secondary mx-auto mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707"/>
                    </svg>
                    <span class="text-sm font-medium text-primary">Book Service</span>
                </a>
                <button onclick="showReorderModal()" class="card p-4 text-center hover:shadow-md transition-shadow">
                    <svg class="h-8 w-8 text-primary mx-auto mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"/>
                    </svg>
                    <span class="text-sm font-medium text-primary">Quick Reorder</span>
                </button>
                <a href="contact_support.html" class="card p-4 text-center hover:shadow-md transition-shadow">
                    <svg class="h-8 w-8 text-text-secondary mx-auto mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"/>
                    </svg>
                    <span class="text-sm font-medium text-primary">Support</span>
                
            </a></div>

            <!-- Main Dashboard Grid -->
            <div class="grid lg:grid-cols-3 gap-8">
                <!-- Left Column -->
                <div class="lg:col-span-2 space-y-8">
                    <!-- Recent Orders -->
                    <div class="card p-6">
                        <div class="flex items-center justify-between mb-6">
                            <h2 class="text-xl font-poppins font-semibold text-primary">Recent Orders</h2>
                            <button class="text-accent hover:text-accent-600 text-sm font-medium">View All</button>
                        </div>
                        
                        <div class="space-y-4" id="ordersContainer">
                            <!-- Order 1 -->
                            <div class="border border-border-light rounded-lg p-4">
                                <div class="flex items-center justify-between mb-3">
                                    <div>
                                        <span class="font-medium text-primary">#GG-2025-0847</span>
                                        <span class="text-sm text-text-secondary ml-2">Aug 23, 2025</span>
                                    </div>
                                    <span class="bg-success-100 text-success-700 px-3 py-1 rounded-full text-sm font-medium">Delivered</span>
                                </div>
                                <div class="flex items-center space-x-4 mb-3">
                                    <img src="https://images.pexels.com/photos/1300972/pexels-photo-1300972.jpeg?auto=compress&cs=tinysrgb&w=60" alt="Fresh vegetables" class="w-12 h-12 object-cover rounded-lg" loading="lazy" onerror="this.src='https://images.unsplash.com/photo-1584824486509-112e4181ff6b?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'; this.onerror=null;" />
                                    <div class="flex-1">
                                        <p class="font-medium text-primary">Fresh Vegetable Bundle</p>
                                        <p class="text-sm text-text-secondary">5 items • KES 1,250</p>
                                    </div>
                                </div>
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center text-sm text-text-secondary">
                                        <svg class="h-4 w-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/>
                                        </svg>
                                        Delivered to Westlands
                                    </div>
                                    <button class="text-accent hover:text-accent-600 text-sm font-medium">Reorder</button>
                                </div>
                            </div>

                            <!-- Order 2 -->
                            <div class="border border-border-light rounded-lg p-4">
                                <div class="flex items-center justify-between mb-3">
                                    <div>
                                        <span class="font-medium text-primary">#GG-2025-0846</span>
                                        <span class="text-sm text-text-secondary ml-2">Aug 21, 2025</span>
                                    </div>
                                    <span class="bg-accent-100 text-accent-700 px-3 py-1 rounded-full text-sm font-medium">In Transit</span>
                                </div>
                                <div class="flex items-center space-x-4 mb-3">
                                    <img src="https://images.pixabay.com/photo/2017/05/11/19/44/fresh-fruits-2305192_1280.jpg" alt="Tropical fruits" class="w-12 h-12 object-cover rounded-lg" loading="lazy" onerror="this.src='https://images.unsplash.com/photo-1584824486509-112e4181ff6b?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'; this.onerror=null;" />
                                    <div class="flex-1">
                                        <p class="font-medium text-primary">Tropical Fruit Mix</p>
                                        <p class="text-sm text-text-secondary">3 items • KES 890</p>
                                    </div>
                                </div>
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center text-sm text-text-secondary">
                                        <svg class="h-4 w-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/>
                                        </svg>
                                        Expected: Aug 25, 2025
                                    </div>
                                    <button class="text-accent hover:text-accent-600 text-sm font-medium">Track Order</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Service Appointments -->
                    <div class="card p-6">
                        <div class="flex items-center justify-between mb-6">
                            <h2 class="text-xl font-poppins font-semibold text-primary">Upcoming Services</h2>
                            <button class="text-accent hover:text-accent-600 text-sm font-medium">View All</button>
                        </div>
                        
                        <div class="space-y-4" id="bookingsContainer">
                            <!-- Service 1 -->
                            <div class="border border-border-light rounded-lg p-4">
                                <div class="flex items-center justify-between mb-3">
                                    <div>
                                        <span class="font-medium text-primary">Garden Consultation</span>
                                        <span class="text-sm text-text-secondary ml-2">Aug 28, 2025 • 10:00 AM</span>
                                    </div>
                                    <span class="bg-secondary-100 text-secondary-700 px-3 py-1 rounded-full text-sm font-medium">Confirmed</span>
                                </div>
                                <div class="flex items-center space-x-4 mb-3">
                                    <img src="https://images.pexels.com/photos/1222271/pexels-photo-1222271.jpeg?auto=compress&cs=tinysrgb&w=60&h=60&fit=crop" alt="Expert John Mwangi" class="w-12 h-12 object-cover rounded-full" loading="lazy" onerror="this.src='https://images.unsplash.com/photo-1584824486509-112e4181ff6b?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'; this.onerror=null;" />
                                    <div class="flex-1">
                                        <p class="font-medium text-primary">Expert: John Mwangi</p>
                                        <p class="text-sm text-text-secondary">Kitchen Garden Setup • KES 2,500</p>
                                    </div>
                                </div>
                                <div class="bg-surface p-3 rounded-lg mb-3">
                                    <h4 class="font-medium text-primary text-sm mb-2">Preparation Checklist:</h4>
                                    <ul class="text-sm text-text-secondary space-y-1">
                                        <li class="flex items-center">
                                            <svg class="h-4 w-4 text-success mr-2" fill="currentColor" viewBox="0 0 20 20">
                                                <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                                            </svg>
                                            Clear the designated garden area
                                        </li>
                                        <li class="flex items-center">
                                            <svg class="h-4 w-4 text-success mr-2" fill="currentColor" viewBox="0 0 20 20">
                                                <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                                            </svg>
                                            Have water source accessible
                                        </li>
                                        <li class="flex items-center">
                                            <div class="w-4 h-4 border-2 border-border-light rounded mr-2"></div>
                                            Prepare list of preferred vegetables
                                        </li>
                                    </ul>
                                </div>
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center text-sm text-text-secondary">
                                        <svg class="h-4 w-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/>
                                        </svg>
                                        +254 712 345 678
                                    </div>
                                    <button class="text-accent hover:text-accent-600 text-sm font-medium">Contact Expert</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- My Garden Journey -->
                    <div class="card p-6">
                        <div class="flex items-center justify-between mb-6">
                            <h2 class="text-xl font-poppins font-semibold text-primary">My Garden Journey</h2>
                            <button onclick="showUploadModal()" class="btn-secondary text-sm px-4 py-2">
                                <svg class="h-4 w-4 mr-2 inline" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/>
                                </svg>
                                Add Photo
                            </button>
                        </div>
                        
                        <div class="grid grid-cols-2 md:grid-cols-3 gap-4">
                            <!-- Journey Photo 1 -->
                            <div class="relative group">
                                <img src="https://images.unsplash.com/photo-1416879595882-3373a0480b5b?auto=format&fit=crop&w=300&q=80" alt="Garden progress - Week 1" class="w-full h-32 object-cover rounded-lg" loading="lazy" onerror="this.src='https://images.unsplash.com/photo-1584824486509-112e4181ff6b?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'; this.onerror=null;" />
                                <div class="absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-opacity rounded-lg flex items-center justify-center">
                                    <span class="text-white text-sm font-medium opacity-0 group-hover:opacity-100 transition-opacity">Week 1 - Setup</span>
                                </div>
                            </div>
                            
                            <!-- Journey Photo 2 -->
                            <div class="relative group">
                                <img src="https://images.pexels.com/photos/1301856/pexels-photo-1301856.jpeg?auto=compress&cs=tinysrgb&w=300" alt="Garden progress - Week 4" class="w-full h-32 object-cover rounded-lg" loading="lazy" onerror="this.src='https://images.unsplash.com/photo-1584824486509-112e4181ff6b?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'; this.onerror=null;" />
                                <div class="absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-opacity rounded-lg flex items-center justify-center">
                                    <span class="text-white text-sm font-medium opacity-0 group-hover:opacity-100 transition-opacity">Week 4 - Growing</span>
                                </div>
                            </div>
                            
                            <!-- Journey Photo 3 -->
                            <div class="relative group">
                                <img src="https://images.pixabay.com/photo/2016/08/11/08/04/vegetables-1584999_1280.jpg" alt="Garden progress - Week 8" class="w-full h-32 object-cover rounded-lg" loading="lazy" onerror="this.src='https://images.unsplash.com/photo-1584824486509-112e4181ff6b?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'; this.onerror=null;" />
                                <div class="absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-opacity rounded-lg flex items-center justify-center">
                                    <span class="text-white text-sm font-medium opacity-0 group-hover:opacity-100 transition-opacity">Week 8 - Harvest</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="mt-4 text-center">
                            <p class="text-sm text-text-secondary">Your garden has grown for <span class="font-medium text-primary">8 weeks</span> • Next milestone: <span class="font-medium text-secondary">First major harvest</span></p>
                        </div>
                    </div>
                </div>

                <!-- Right Column -->
                <div class="space-y-8">
                    <!-- GreenGrove Rewards -->
                    <div class="card p-6">
                        <div class="flex items-center justify-between mb-4">
                            <h3 class="text-lg font-poppins font-semibold text-primary">GreenGrove Rewards</h3>
                            <svg class="h-6 w-6 text-accent" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
                            </svg>
                        </div>
                        
                        <div class="text-center mb-6">
                            <div class="text-3xl font-poppins font-bold text-accent mb-2">2,847</div>
                            <p class="text-sm text-text-secondary">Available Points</p>
                        </div>
                        
                        <div class="space-y-3 mb-6">
                            <div class="flex items-center justify-between text-sm">
                                <span class="text-text-secondary">This Month</span>
                                <span class="font-medium text-primary">+450 points</span>
                            </div>
                            <div class="flex items-center justify-between text-sm">
                                <span class="text-text-secondary">Next Reward</span>
                                <span class="font-medium text-secondary">153 points away</span>
                            </div>
                        </div>
                        
                        <div class="bg-surface p-4 rounded-lg mb-4">
                            <h4 class="font-medium text-primary text-sm mb-3">Available Rewards</h4>
                            <div class="space-y-2">
                                <div class="flex items-center justify-between">
                                    <span class="text-sm text-text-secondary">Free Consultation</span>
                                    <span class="text-sm font-medium text-accent">3,000 pts</span>
                                </div>
                                <div class="flex items-center justify-between">
                                    <span class="text-sm text-text-secondary">10% Off Next Order</span>
                                    <span class="text-sm font-medium text-accent">1,500 pts</span>
                                </div>
                                <div class="flex items-center justify-between">
                                    <span class="text-sm text-text-secondary">Free Delivery</span>
                                    <span class="text-sm font-medium text-accent">500 pts</span>
                                </div>
                            </div>
                        </div>
                        
                        <button class="btn-primary w-full text-sm">Redeem Rewards</button>
                    </div>

                    <!-- Sustainability Tracker -->
                    <div class="card p-6">
                        <h3 class="text-lg font-poppins font-semibold text-primary mb-4">Your Impact</h3>
                        
                        <div class="space-y-4">
                            <!-- Carbon Footprint -->
                            <div class="bg-success-50 p-4 rounded-lg">
                                <div class="flex items-center justify-between mb-2">
                                    <span class="text-sm font-medium text-success-700">Carbon Footprint Reduced</span>
                                    <svg class="h-5 w-5 text-success" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                                    </svg>
                                </div>
                                <div class="text-2xl font-poppins font-bold text-success mb-1">12.5 kg</div>
                                <p class="text-xs text-success-600">CO₂ saved this month</p>
                            </div>
                            
                            <!-- Local Support -->
                            <div class="bg-secondary-50 p-4 rounded-lg">
                                <div class="flex items-center justify-between mb-2">
                                    <span class="text-sm font-medium text-secondary-700">Local Farmers Supported</span>
                                    <svg class="h-5 w-5 text-secondary" fill="currentColor" viewBox="0 0 20 20">
                                        <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                                    </svg>
                                </div>
                                <div class="text-2xl font-poppins font-bold text-secondary mb-1">8</div>
                                <p class="text-xs text-secondary-600">Farmers this month</p>
                            </div>
                            
                            <!-- Waste Reduction -->
                            <div class="bg-accent-50 p-4 rounded-lg">
                                <div class="flex items-center justify-between mb-2">
                                    <span class="text-sm font-medium text-accent-700">Waste Minimized</span>
                                    <svg class="h-5 w-5 text-accent" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                                    </svg>
                                </div>
                                <div class="text-2xl font-poppins font-bold text-accent mb-1">95%</div>
                                <p class="text-xs text-accent-600">Through composting</p>
                            </div>
                        </div>
                    </div>

                    <!-- Quick Reorder -->
                    <div class="card p-6">
                        <h3 class="text-lg font-poppins font-semibold text-primary mb-4">Frequently Ordered</h3>
                        
                        <div class="space-y-3">
                            <!-- Item 1 -->
                            <div class="flex items-center justify-between">
                                <div class="flex items-center space-x-3">
                                    <img src="https://images.pexels.com/photos/1300972/pexels-photo-1300972.jpeg?auto=compress&cs=tinysrgb&w=40&h=40&fit=crop" alt="Cooking oil" class="w-10 h-10 object-cover rounded-lg" loading="lazy" onerror="this.src='https://images.unsplash.com/photo-1584824486509-112e4181ff6b?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'; this.onerror=null;" />
                                    <div>
                                        <p class="text-sm font-medium text-primary">Sunflower Oil</p>
                                        <p class="text-xs text-text-secondary">KES 450</p>
                                    </div>
                                </div>
                                <button class="text-accent hover:text-accent-600 text-sm font-medium">Add</button>
                            </div>
                            
                            <!-- Item 2 -->
                            <div class="flex items-center justify-between">
                                <div class="flex items-center space-x-3">
                                    <img src="https://images.pixabay.com/photo/2017/05/11/19/44/fresh-fruits-2305192_1280.jpg" alt="Wheat flour" class="w-10 h-10 object-cover rounded-lg" loading="lazy" onerror="this.src='https://images.unsplash.com/photo-1584824486509-112e4181ff6b?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'; this.onerror=null;" />
                                    <div>
                                        <p class="text-sm font-medium text-primary">Wheat Flour</p>
                                        <p class="text-xs text-text-secondary">KES 180</p>
                                    </div>
                                </div>
                                <button class="text-accent hover:text-accent-600 text-sm font-medium">Add</button>
                            </div>
                            
                            <!-- Item 3 -->
                            <div class="flex items-center justify-between">
                                <div class="flex items-center space-x-3">
                                    <img src="https://images.unsplash.com/photo-1416879595882-3373a0480b5b?auto=format&fit=crop&w=40&h=40" alt="Fresh tomatoes" class="w-10 h-10 object-cover rounded-lg" loading="lazy" onerror="this.src='https://images.unsplash.com/photo-1584824486509-112e4181ff6b?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'; this.onerror=null;" />
                                    <div>
                                        <p class="text-sm font-medium text-primary">Fresh Tomatoes</p>
                                        <p class="text-xs text-text-secondary">KES 120/kg</p>
                                    </div>
                                </div>
                                <button class="text-accent hover:text-accent-600 text-sm font-medium">Add</button>
                            </div>
                        </div>
                    </div>

                    <!-- Subscription Management -->
                    <div class="card p-6">
                        <h3 class="text-lg font-poppins font-semibold text-primary mb-4">Active Subscriptions</h3>
                        
                        <div class="space-y-4">
                            <!-- Subscription 1 -->
                            <div class="border border-border-light rounded-lg p-4">
                                <div class="flex items-center justify-between mb-2">
                                    <span class="font-medium text-primary">Weekly Veggie Box</span>
                                    <span class="bg-success-100 text-success-700 px-2 py-1 rounded text-xs font-medium">Active</span>
                                </div>
                                <p class="text-sm text-text-secondary mb-3">Every Monday • KES 850</p>
                                <div class="flex space-x-2">
                                    <button class="text-accent hover:text-accent-600 text-xs font-medium">Modify</button>
                                    <button class="text-text-secondary hover:text-primary text-xs font-medium">Pause</button>
                                </div>
                            </div>
                            
                            <!-- Subscription 2 -->
                            <div class="border border-border-light rounded-lg p-4">
                                <div class="flex items-center justify-between mb-2">
                                    <span class="font-medium text-primary">Garden Maintenance</span>
                                    <span class="bg-secondary-100 text-secondary-700 px-2 py-1 rounded text-xs font-medium">Active</span>
                                </div>
                                <p class="text-sm text-text-secondary mb-3">Monthly • KES 3,500</p>
                                <div class="flex space-x-2">
                                    <button class="text-accent hover:text-accent-600 text-xs font-medium">Modify</button>
                                    <button class="text-text-secondary hover:text-primary text-xs font-medium">Pause</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-primary-800 text-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
            <div class="grid md:grid-cols-4 gap-8">
                <!-- Company Info -->
                <div>
                    <div class="flex items-center mb-4">
                        <svg class="h-8 w-8 text-accent" viewBox="0 0 40 40" fill="currentColor">
                            <path d="M20 2C15.5 2 12 5.5 12 10c0 2.5 1 4.8 2.6 6.5L20 22l5.4-5.5C27 14.8 28 12.5 28 10c0-4.5-3.5-8-8-8zm0 11c-1.7 0-3-1.3-3-3s1.3-3 3-3 3 1.3 3 3-1.3 3-3 3z"/>
                            <path d="M8 25c0-2 1.5-3.5 3.5-3.5h17c2 0 3.5 1.5 3.5 3.5v10c0 2-1.5 3.5-3.5 3.5h-17C9.5 38.5 8 37 8 35V25z"/>
                            <circle cx="15" cy="30" r="2" fill="white"/>
                            <circle cx="25" cy="30" r="2" fill="white"/>
                        </svg>
                        <span class="ml-2 text-xl font-poppins font-bold">GreenGrove Market</span>
                    </div>
                    <p class="text-primary-200 mb-4">Living Fresh, Growing Forward</p>
                    <p class="text-primary-300 text-sm">Kenya's premier seed-to-table ecosystem, connecting you with fresh groceries and expert garden services.</p>
                </div>

                <!-- Quick Links -->
                <div>
                    <h3 class="font-poppins font-semibold mb-4">Quick Links</h3>
                    <ul class="space-y-2">
                        <li><a href="product_marketplace.html" class="text-primary-200 hover:text-white transition-colors">Shop Groceries</a></li>
                        <li><a href="garden_services_hub.html" class="text-primary-200 hover:text-white transition-colors">Garden Services</a></li>
                        <li><a href="knowledge_center.html" class="text-primary-200 hover:text-white transition-colors">Knowledge Center</a></li>
                        <li><a href="customer_dashboard.html" class="text-primary-200 hover:text-white transition-colors">My Account</a></li>
                    </ul>
                </div>

                <!-- Support -->
                <div>
                    <h3 class="font-poppins font-semibold mb-4">Support</h3>
                    <ul class="space-y-2">
                        <li><a href="contact_support.html" class="text-primary-200 hover:text-white transition-colors">Contact Us</a></li>
                        <li><a href="javascript:void(0)" class="text-primary-200 hover:text-white transition-colors">FAQ</a></li>
                        <li><a href="javascript:void(0)" class="text-primary-200 hover:text-white transition-colors">Delivery Info</a></li>
                        <li><a href="javascript:void(0)" class="text-primary-200 hover:text-white transition-colors">Returns</a></li>
                    </ul>
                </div>

                <!-- Contact -->
                <div>
                    <h3 class="font-poppins font-semibold mb-4">Contact</h3>
                    <div class="space-y-2 text-primary-200">
                        <p class="flex items-center">
                            <svg class="h-4 w-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/>
                            </svg>
                            +254 700 123 456
                        </p>
                        <p class="flex items-center">
                            <svg class="h-4 w-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
                            </svg>
                            hello@greengrove.co.ke
                        </p>
                        <p class="flex items-start">
                            <svg class="h-4 w-4 mr-2 mt-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/>
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/>
                            </svg>
                            Westlands, Nairobi, Kenya
                        </p>
                    </div>
                </div>
            </div>

            <div class="border-t border-primary-700 mt-8 pt-8 text-center">
                <p class="text-primary-300">© 2025 GreenGrove Market. All Rights Reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Mobile Bottom Navigation -->
    <div class="fixed bottom-0 left-0 right-0 bg-white border-t border-border-light md:hidden z-40">
        <div class="grid grid-cols-4 gap-1">
            <a href="homepage.html" class="flex flex-col items-center py-2 px-1 text-text-secondary">
                <svg class="h-6 w-6 mb-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"/>
                </svg>
                <span class="text-xs font-medium">Home</span>
            </a>
            <a href="product_marketplace.html" class="flex flex-col items-center py-2 px-1 text-text-secondary">
                <svg class="h-6 w-6 mb-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-2.5 2.5M7 13l2.5 2.5m6 0L19 18H7"/>
                </svg>
                <span class="text-xs font-medium">Shop</span>
            </a>
            <a href="garden_services_hub.html" class="flex flex-col items-center py-2 px-1 text-text-secondary">
                <svg class="h-6 w-6 mb-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707"/>
                </svg>
                <span class="text-xs font-medium">Garden</span>
            </a>
            <a href="customer_dashboard.html" class="flex flex-col items-center py-2 px-1 text-primary">
                <svg class="h-6 w-6 mb-1" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd"/>
                </svg>
                <span class="text-xs font-medium">Account</span>
            </a>
        </div>
    </div>

    <!-- Modals -->
    <!-- Quick Reorder Modal -->
    <div id="reorderModal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-white rounded-lg max-w-md w-full p-6">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="text-lg font-poppins font-semibold text-primary">Quick Reorder</h3>
                    <button onclick="hideReorderModal()" class="text-text-secondary hover:text-primary">
                        <svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
                        </svg>
                    </button>
                </div>
                <p class="text-text-secondary mb-4">Select items from your recent orders to add to cart</p>
                <div class="space-y-3 mb-6">
                    <div class="flex items-center justify-between">
                        <div class="flex items-center space-x-3">
                            <input type="checkbox" class="rounded border-border-light" />
                            <span class="text-sm font-medium text-primary">Fresh Vegetable Bundle</span>
                        </div>
                        <span class="text-sm text-text-secondary">KES 1,250</span>
                    </div>
                    <div class="flex items-center justify-between">
                        <div class="flex items-center space-x-3">
                            <input type="checkbox" class="rounded border-border-light" />
                            <span class="text-sm font-medium text-primary">Tropical Fruit Mix</span>
                        </div>
                        <span class="text-sm text-text-secondary">KES 890</span>
                    </div>
                </div>
                <div class="flex space-x-3">
                    <button onclick="hideReorderModal()" class="flex-1 border border-border-light text-text-secondary py-2 px-4 rounded-lg hover:bg-surface transition-colors">Cancel</button>
                    <button class="flex-1 btn-primary py-2">Add to Cart</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Upload Photo Modal -->
    <div id="uploadModal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-white rounded-lg max-w-md w-full p-6">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="text-lg font-poppins font-semibold text-primary">Add Garden Photo</h3>
                    <button onclick="hideUploadModal()" class="text-text-secondary hover:text-primary">
                        <svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
                        </svg>
                    </button>
                </div>
                <div class="border-2 border-dashed border-border-light rounded-lg p-8 text-center mb-4">
                    <svg class="h-12 w-12 text-text-secondary mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"/>
                    </svg>
                    <p class="text-text-secondary mb-2">Click to upload or drag and drop</p>
                    <p class="text-sm text-text-secondary">PNG, JPG up to 10MB</p>
                </div>
                <input type="text" placeholder="Add a caption..." class="input-field w-full mb-4" />
                <div class="flex space-x-3">
                    <button onclick="hideUploadModal()" class="flex-1 border border-border-light text-text-secondary py-2 px-4 rounded-lg hover:bg-surface transition-colors">Cancel</button>
                    <button class="flex-1 btn-primary py-2">Upload Photo</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Mobile menu toggle
        function toggleMobileMenu() {
            const menu = document.getElementById('mobileMenu');
            menu.classList.toggle('hidden');
        }

        // Modal functions
        function showReorderModal() {
            document.getElementById('reorderModal').classList.remove('hidden');
        }

        function hideReorderModal() {
            document.getElementById('reorderModal').classList.add('hidden');
        }

        function showUploadModal() {
            document.getElementById('uploadModal').classList.remove('hidden');
        }

        function hideUploadModal() {
            document.getElementById('uploadModal').classList.add('hidden');
        }

        // Close modals when clicking outside
        document.addEventListener('click', function(event) {
            const reorderModal = document.getElementById('reorderModal');
            const uploadModal = document.getElementById('uploadModal');
            
            if (event.target === reorderModal) {
                hideReorderModal();
            }
            if (event.target === uploadModal) {
                hideUploadModal();
            }
        });

        // Add smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Add swipe gestures for mobile
        let startX = 0;
        let startY = 0;

        document.addEventListener('touchstart', function(e) {
            startX = e.touches[0].clientX;
            startY = e.touches[0].clientY;
        });

        document.addEventListener('touchend', function(e) {
            if (!startX || !startY) return;

            let endX = e.changedTouches[0].clientX;
            let endY = e.changedTouches[0].clientY;

            let diffX = startX - endX;
            let diffY = startY - endY;

            // Only trigger swipe if horizontal movement is greater than vertical
            if (Math.abs(diffX) > Math.abs(diffY)) {
                if (Math.abs(diffX) > 50) { // Minimum swipe distance
                    if (diffX > 0) {
                        // Swiped left - could trigger next action
                        console.log('Swiped left');
                    } else {
                        // Swiped right - could trigger previous action
                        console.log('Swiped right');
                    }
                }
            }

            startX = 0;
            startY = 0;
        });
    </script>
<script>
// Render orders and bookings from API
(function(){
  const API_BASE = (window.__API_BASE__ || 'http://localhost:4000/api');
  const userId = 1; // TODO: replace with real session user id
  const currency = new Intl.NumberFormat('en-KE',{style:'currency',currency:'KES'});

  function orderItemHTML(o){
    const date = new Date(o.order_date);
    const dstr = date.toLocaleDateString();
    const statusBadge = o.status === 'completed' ? 'bg-success-100 text-success-700' : (o.status === 'pending' ? 'bg-accent-100 text-accent-700' : 'bg-text-100 text-text-700');
    return `
      <div class="border border-border-light rounded-lg p-4">
        <div class="flex items-center justify-between mb-3">
          <div>
            <span class="font-medium text-primary">#GG-${String(o.id).padStart(6,'0')}</span>
            <span class="text-sm text-text-secondary ml-2">${dstr}</span>
          </div>
          <span class="${statusBadge} px-3 py-1 rounded-full text-sm font-medium">${o.status}</span>
        </div>
        <div class="flex items-center justify-between">
          <div class="flex items-center text-sm text-text-secondary">
            <svg class="h-4 w-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/></svg>
            ${o.delivery_address || 'Nairobi'}
          </div>
          <div class="text-sm font-medium text-primary">${currency.format(Number(o.total_amount)||0)}</div>
        </div>
      </div>`;
  }

  function bookingItemHTML(b){
    const date = new Date(b.booking_date);
    const dstr = date.toLocaleString();
    const statusBadge = b.status === 'confirmed' ? 'bg-secondary-100 text-secondary-700' : (b.status === 'completed' ? 'bg-success-100 text-success-700' : 'bg-accent-100 text-accent-700');
    return `
      <div class="border border-border-light rounded-lg p-4">
        <div class="flex items-center justify-between mb-3">
          <div>
            <span class="font-medium text-primary">${b.service_name || 'Service'} </span>
            <span class="text-sm text-text-secondary ml-2">${dstr}</span>
          </div>
          <span class="${statusBadge} px-3 py-1 rounded-full text-sm font-medium">${b.status}</span>
        </div>
        <div class="text-sm text-text-secondary">
          <svg class="h-4 w-4 inline mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/></svg>
          ${b.address || 'Nairobi'}
        </div>
      </div>`;
  }

  async function fetchJSON(url){
    const r = await fetch(url);
    if(!r.ok) throw new Error('Failed');
    return r.json();
  }

  async function load(){
    try{
      const ordersUrl = new URL(API_BASE + '/orders');
      ordersUrl.searchParams.set('user_id', String(userId));
      ordersUrl.searchParams.set('limit', '5');
      const orders = await fetchJSON(ordersUrl);
      const oc = document.getElementById('ordersContainer');
      if (oc){
        oc.innerHTML = orders.length ? orders.map(orderItemHTML).join('') : '<p class="text-text-secondary">No recent orders.</p>';
      }

      const bookingsUrl = new URL(API_BASE + '/bookings');
      bookingsUrl.searchParams.set('user_id', String(userId));
      bookingsUrl.searchParams.set('limit', '5');
      const bookings = await fetchJSON(bookingsUrl);
      const bc = document.getElementById('bookingsContainer');
      if (bc){
        bc.innerHTML = bookings.length ? bookings.map(bookingItemHTML).join('') : '<p class="text-text-secondary">No upcoming services.</p>';
      }
    } catch(e){ console.error(e); }
  }

  document.addEventListener('DOMContentLoaded', load);
})();
</script>
<script src="../js/main.js"></script>
<script id="dhws-dataInjector" src="../public/dhws-data-injector.js"></script>
</body>
</html>