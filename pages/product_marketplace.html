<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Product Marketplace - GreenGrove Market</title>
    <link rel="stylesheet" href="../css/main.css" />
    <meta name="description" content="Shop fresh groceries and garden supplies from local Kenyan farmers. Sukuma wiki, kunde, terere and more with 48hr delivery in Nairobi." />
<script type="module" src="https://static.rocket.new/rocket-web.js?_cfg=https%3A%2F%2Fgreengrove7653back.builtwithrocket.new&_be=https%3A%2F%2Fapplication.rocket.new&_v=0.1.8"></script>
</head>
<body class="bg-background">
    <!-- Header Navigation -->
    <header class="bg-white shadow-sm sticky top-0 z-50">
        <nav class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <!-- Logo -->
                <div class="flex items-center">
                    <svg class="h-10 w-10 text-primary" viewBox="0 0 40 40" fill="currentColor">
                        <path d="M20 2C15.5 2 12 5.5 12 10c0 2.5 1 4.8 2.6 6.5L20 22l5.4-5.5C27 14.8 28 12.5 28 10c0-4.5-3.5-8-8-8zm0 11c-1.7 0-3-1.3-3-3s1.3-3 3-3 3 1.3 3 3-1.3 3-3 3z"/>
                        <path d="M8 25c0-2 1.5-3.5 3.5-3.5h17c2 0 3.5 1.5 3.5 3.5v10c0 2-1.5 3.5-3.5 3.5h-17C9.5 38.5 8 37 8 35V25z"/>
                        <circle cx="15" cy="30" r="2" fill="white"/>
                        <circle cx="25" cy="30" r="2" fill="white"/>
                    </svg>
                    <span class="ml-3 text-xl font-poppins font-bold text-primary">GreenGrove Market</span>
                </div>

                <!-- Desktop Navigation -->
                <div class="hidden md:flex items-center space-x-8">
                    <a href="homepage.html" class="text-text-secondary hover:text-primary transition-colors">Home</a>
                    <a href="product_marketplace.html" class="text-primary font-medium hover:text-secondary transition-colors">Shop Groceries</a>
                    <a href="garden_services_hub.html" class="text-text-secondary hover:text-primary transition-colors">Garden Services</a>
                    <a href="knowledge_center.html" class="text-text-secondary hover:text-primary transition-colors">Knowledge Center</a>
                    <a href="customer_dashboard.html" class="text-text-secondary hover:text-primary transition-colors">My Account</a>
                    <a href="contact_support.html" class="text-text-secondary hover:text-primary transition-colors">Support</a>
                </div>

                <!-- Cart & Search Icons -->
                <div class="flex items-center space-x-4">
                    <button class="p-2 text-text-secondary hover:text-primary transition-colors" onclick="toggleSearch()">
                        <svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
                        </svg>
                    </button>
                    <button class="relative p-2 text-text-secondary hover:text-primary transition-colors" onclick="toggleCart()">
                        <svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-2.5 2.5M7 13l2.5 2.5m6 0L19 18H7"/>
                        </svg>
                        <span class="absolute -top-1 -right-1 bg-accent text-white text-xs rounded-full h-5 w-5 flex items-center justify-center cart-count" id="cartCount">0</span>
                    </button>
                    <!-- Mobile Menu Button -->
                    <button class="md:hidden p-2" onclick="toggleMobileMenu()">
                        <svg class="h-6 w-6 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
                        </svg>
                    </button>
                </div>
            </div>

            <!-- Mobile Navigation Menu -->
            <div id="mobileMenu" class="hidden md:hidden pb-4">
                <div class="flex flex-col space-y-3">
                    <a href="homepage.html" class="text-text-secondary hover:text-primary transition-colors py-2">Home</a>
                    <a href="product_marketplace.html" class="text-primary font-medium py-2">Shop Groceries</a>
                    <a href="garden_services_hub.html" class="text-text-secondary hover:text-primary transition-colors py-2">Garden Services</a>
                    <a href="knowledge_center.html" class="text-text-secondary hover:text-primary transition-colors py-2">Knowledge Center</a>
                    <a href="customer_dashboard.html" class="text-text-secondary hover:text-primary transition-colors py-2">My Account</a>
                    <a href="contact_support.html" class="text-text-secondary hover:text-primary transition-colors py-2">Support</a>
                </div>
            </div>

            <!-- Search Bar (Hidden by default) -->
            <div id="searchBar" class="hidden py-4 border-t border-border-light">
                <div class="relative">
                    <input type="text" placeholder="Search for sukuma wiki, kunde, terere..." class="w-full input-field pl-10 pr-4" id="searchInput" />
                    <svg class="absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-text-secondary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
                    </svg>
                    <button class="absolute right-3 top-1/2 transform -translate-y-1/2 text-accent hover:text-accent-600 transition-colors">
                        <svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"/>
                        </svg>
                    </button>
                </div>
            </div>
        </nav>
    </header>

    <!-- Breadcrumb -->
    <section class="bg-surface py-4">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <nav class="flex items-center space-x-2 text-sm">
                <a href="homepage.html" class="text-text-secondary hover:text-primary transition-colors">Home</a>
                <svg class="h-4 w-4 text-text-secondary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                </svg>
                <span class="text-primary font-medium">Product Marketplace</span>
            </nav>
        </div>
    </section>

    <!-- Hero Section with Location & Quick Actions -->
    <section class="bg-gradient-to-br from-primary-50 to-secondary-50 py-8">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex flex-col lg:flex-row lg:items-center lg:justify-between gap-6">
                <!-- Left Side - Title & Location -->
                <div>
                    <h1 class="text-3xl lg:text-4xl font-poppins font-bold text-primary mb-4">
                        Fresh from Kenya's Gardens
                    </h1>
                    <div class="flex items-center space-x-4 mb-4">
                        <div class="flex items-center bg-white rounded-full px-4 py-2 shadow-sm">
                            <svg class="h-4 w-4 text-success mr-2" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z" clip-rule="evenodd"/>
                            </svg>
                            <span class="text-sm font-medium text-primary">Delivering to Nairobi</span>
                        </div>
                        <div class="flex items-center bg-accent-100 rounded-full px-4 py-2">
                            <div class="w-2 h-2 bg-success rounded-full mr-2 animate-pulse"></div>
                            <span class="text-sm font-medium text-accent-700">2,847 items available</span>
                        </div>
                    </div>
                </div>

                <!-- Right Side - Quick Actions -->
                <div class="flex flex-col sm:flex-row gap-4">
                    <button class="btn-secondary flex items-center justify-center">
                        <svg class="h-5 w-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"/>
                        </svg>
                        Reorder Favorites
                    </button>
                    <button class="btn-primary flex items-center justify-center">
                        <svg class="h-5 w-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"/>
                        </svg>
                        Subscription Boxes
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Category Tabs -->
    <section class="bg-white border-b border-border-light sticky top-16 z-40">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex space-x-8">
                <button class="category-tab active py-4 px-2 border-b-2 border-accent text-accent font-medium" data-category="groceries">
                    ðŸ¥¬ Fresh Groceries
                </button>
                <button class="category-tab py-4 px-2 border-b-2 border-transparent text-text-secondary hover:text-primary transition-colors" data-category="supplies">
                    ðŸŒ± Garden Supplies
                </button>
            </div>
        </div>
    </section>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <div class="grid lg:grid-cols-4 gap-8">
            <!-- Sidebar Filters -->
            <aside class="lg:col-span-1">
                <div class="card p-6 sticky top-32">
                    <div class="flex items-center justify-between mb-6">
                        <h3 class="font-poppins font-semibold text-primary">Filters</h3>
                        <button class="text-accent hover:text-accent-600 text-sm font-medium" onclick="resetFilters()">
                            Reset All
                        </button>
                    </div>

                    <!-- Category Specific Filters -->
                    <div id="groceryFilters" class="space-y-6">
                        <!-- Produce Type -->
                        <div>
                            <h4 class="font-medium text-primary mb-3">Produce Type</h4>
                            <div class="space-y-2">
                                <label class="flex items-center">
                                    <input type="checkbox" class="rounded border-border-light text-accent focus:ring-accent" checked />
                                    <span class="ml-2 text-sm">Traditional Vegetables</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="checkbox" class="rounded border-border-light text-accent focus:ring-accent" />
                                    <span class="ml-2 text-sm">Tropical Fruits</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="checkbox" class="rounded border-border-light text-accent focus:ring-accent" />
                                    <span class="ml-2 text-sm">Grains & Cereals</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="checkbox" class="rounded border-border-light text-accent focus:ring-accent" />
                                    <span class="ml-2 text-sm">Herbs & Spices</span>
                                </label>
                            </div>
                        </div>

                        <!-- Origin -->
                        <div>
                            <h4 class="font-medium text-primary mb-3">Farm Origin</h4>
                            <div class="space-y-2">
                                <label class="flex items-center">
                                    <input type="checkbox" class="rounded border-border-light text-accent focus:ring-accent" />
                                    <span class="ml-2 text-sm">Kiambu Highlands</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="checkbox" class="rounded border-border-light text-accent focus:ring-accent" />
                                    <span class="ml-2 text-sm">Nakuru Valley</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="checkbox" class="rounded border-border-light text-accent focus:ring-accent" />
                                    <span class="ml-2 text-sm">Meru Slopes</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="checkbox" class="rounded border-border-light text-accent focus:ring-accent" />
                                    <span class="ml-2 text-sm">Nyeri Farms</span>
                                </label>
                            </div>
                        </div>

                        <!-- Price Range -->
                        <div>
                            <h4 class="font-medium text-primary mb-3">Price Range (KES)</h4>
                            <div class="space-y-2">
                                <label class="flex items-center">
                                    <input type="radio" name="price" class="border-border-light text-accent focus:ring-accent" />
                                    <span class="ml-2 text-sm">Under 100</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="price" class="border-border-light text-accent focus:ring-accent" />
                                    <span class="ml-2 text-sm">100 - 500</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="price" class="border-border-light text-accent focus:ring-accent" />
                                    <span class="ml-2 text-sm">500 - 1,000</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="price" class="border-border-light text-accent focus:ring-accent" />
                                    <span class="ml-2 text-sm">Over 1,000</span>
                                </label>
                            </div>
                        </div>

                        <!-- Sustainability -->
                        <div>
                            <h4 class="font-medium text-primary mb-3">Sustainability</h4>
                            <div class="space-y-2">
                                <label class="flex items-center">
                                    <input type="checkbox" class="rounded border-border-light text-accent focus:ring-accent" />
                                    <span class="ml-2 text-sm">Organic Certified</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="checkbox" class="rounded border-border-light text-accent focus:ring-accent" />
                                    <span class="ml-2 text-sm">Rainwater Grown</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="checkbox" class="rounded border-border-light text-accent focus:ring-accent" />
                                    <span class="ml-2 text-sm">Fair Trade</span>
                                </label>
                            </div>
                        </div>
                    </div>

                    <!-- Garden Supplies Filters (Hidden by default) -->
                    <div id="suppliesFilters" class="space-y-6 hidden">
                        <!-- Supply Type -->
                        <div>
                            <h4 class="font-medium text-primary mb-3">Supply Type</h4>
                            <div class="space-y-2">
                                <label class="flex items-center">
                                    <input type="checkbox" class="rounded border-border-light text-accent focus:ring-accent" />
                                    <span class="ml-2 text-sm">Seeds & Seedlings</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="checkbox" class="rounded border-border-light text-accent focus:ring-accent" />
                                    <span class="ml-2 text-sm">Garden Tools</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="checkbox" class="rounded border-border-light text-accent focus:ring-accent" />
                                    <span class="ml-2 text-sm">Soil & Fertilizers</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="checkbox" class="rounded border-border-light text-accent focus:ring-accent" />
                                    <span class="ml-2 text-sm">Pots & Containers</span>
                                </label>
                            </div>
                        </div>

                        <!-- Growing Conditions -->
                        <div>
                            <h4 class="font-medium text-primary mb-3">Growing Conditions</h4>
                            <div class="space-y-2">
                                <label class="flex items-center">
                                    <input type="checkbox" class="rounded border-border-light text-accent focus:ring-accent" />
                                    <span class="ml-2 text-sm">Indoor Growing</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="checkbox" class="rounded border-border-light text-accent focus:ring-accent" />
                                    <span class="ml-2 text-sm">Balcony Garden</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="checkbox" class="rounded border-border-light text-accent focus:ring-accent" />
                                    <span class="ml-2 text-sm">Full Garden</span>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
            </aside>

            <!-- Product Grid -->
            <div class="lg:col-span-3">
                <!-- Sort & View Options -->
                <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6 gap-4">
                    <div class="flex items-center space-x-4">
                        <span class="text-text-secondary">Showing 1-24 of 2,847 products</span>
                        <div class="hidden sm:flex items-center space-x-2">
                            <button class="p-2 text-accent border border-accent rounded">
                                <svg class="h-4 w-4" fill="currentColor" viewBox="0 0 20 20">
                                    <path d="M5 3a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2V5a2 2 0 00-2-2H5zM5 11a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2v-2a2 2 0 00-2-2H5zM11 5a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V5zM11 13a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"/>
                                </svg>
                            </button>
                            <button class="p-2 text-text-secondary hover:text-accent transition-colors">
                                <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 10h16M4 14h16M4 18h16"/>
                                </svg>
                            </button>
                        </div>
                    </div>
                    <div class="flex items-center space-x-4">
                        <select class="input-field text-sm">
                            <option>Sort by: Popularity</option>
                            <option>Price: Low to High</option>
                            <option>Price: High to Low</option>
                            <option>Newest First</option>
                            <option>Customer Rating</option>
                        </select>
                    </div>
                </div>

                <!-- Product Grid -->
                <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-6" id="productGrid">
                    <!-- Product Card 1 -->
                    <div class="card overflow-hidden group cursor-pointer" onclick="openProductModal('sukuma-wiki')">
                        <div class="relative">
                            <img src="https://images.pexels.com/photos/1300972/pexels-photo-1300972.jpeg?auto=compress&cs=tinysrgb&w=400" alt="Fresh Sukuma Wiki" class="w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300" loading="lazy" onerror="this.src='https://images.unsplash.com/photo-1584824486509-112e4181ff6b?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'; this.onerror=null;" />
                            <div class="absolute top-3 left-3">
                                <span class="bg-success text-white text-xs px-2 py-1 rounded-full">Organic</span>
                            </div>
                            <div class="absolute top-3 right-3">
                                <button class="bg-white p-2 rounded-full shadow-sm hover:bg-accent hover:text-white transition-colors">
                                    <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"/>
                                    </svg>
                                </button>
                            </div>
                        </div>
                        <div class="p-4">
                            <div class="flex items-center mb-2">
                                <img src="https://images.pexels.com/photos/1222271/pexels-photo-1222271.jpeg?auto=compress&cs=tinysrgb&w=40&h=40&fit=crop" alt="Farmer John" class="w-6 h-6 rounded-full object-cover mr-2" loading="lazy" onerror="this.src='https://images.unsplash.com/photo-1584824486509-112e4181ff6b?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'; this.onerror=null;" />
                                <span class="text-xs text-text-secondary">From Kiambu Highlands</span>
                            </div>
                            <h3 class="font-poppins font-semibold text-primary mb-1">Fresh Sukuma Wiki</h3>
                            <p class="text-sm text-text-secondary mb-3">Traditional collard greens, perfect for ugali</p>
                            <div class="flex items-center justify-between mb-3">
                                <div class="flex items-center">
                                    <span class="text-lg font-bold text-primary">KES 45</span>
                                    <span class="text-sm text-text-secondary ml-1">/bunch</span>
                                </div>
                                <div class="flex items-center">
                                    <span class="text-warning text-sm">â˜…â˜…â˜…â˜…â˜…</span>
                                    <span class="text-xs text-text-secondary ml-1">(127)</span>
                                </div>
                            </div>
                            <div class="flex items-center justify-between">
                                <div class="flex items-center space-x-2">
                                    <button class="w-8 h-8 rounded-full border border-border-light flex items-center justify-center hover:border-accent transition-colors">
                                        <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 12H4"/>
                                        </svg>
                                    </button>
                                    <span class="text-sm font-medium">1</span>
                                    <button class="w-8 h-8 rounded-full border border-border-light flex items-center justify-center hover:border-accent transition-colors">
                                        <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"/>
                                        </svg>
                                    </button>
                                </div>
                                <button class="btn-primary text-sm px-4 py-2" onclick="addToCart('sukuma-wiki', event)">
                                    Add to Cart
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Product Card 2 -->
                    <div class="card overflow-hidden group cursor-pointer" onclick="openProductModal('kunde')">
                        <div class="relative">
                            <img src="https://images.pixabay.com/photo/2017/05/11/19/44/fresh-fruits-2305192_1280.jpg" alt="Fresh Kunde" class="w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300" loading="lazy" onerror="this.src='https://images.unsplash.com/photo-1584824486509-112e4181ff6b?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'; this.onerror=null;" />
                            <div class="absolute top-3 left-3">
                                <span class="bg-accent text-white text-xs px-2 py-1 rounded-full">Fresh</span>
                            </div>
                            <div class="absolute top-3 right-3">
                                <button class="bg-white p-2 rounded-full shadow-sm hover:bg-accent hover:text-white transition-colors">
                                    <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"/>
                                    </svg>
                                </button>
                            </div>
                        </div>
                        <div class="p-4">
                            <div class="flex items-center mb-2">
                                <img src="https://images.pexels.com/photos/1239291/pexels-photo-1239291.jpeg?auto=compress&cs=tinysrgb&w=40&h=40&fit=crop" alt="Farmer Mary" class="w-6 h-6 rounded-full object-cover mr-2" loading="lazy" onerror="this.src='https://images.unsplash.com/photo-1584824486509-112e4181ff6b?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'; this.onerror=null;" />
                                <span class="text-xs text-text-secondary">From Nakuru Valley</span>
                            </div>
                            <h3 class="font-poppins font-semibold text-primary mb-1">Fresh Kunde (Cowpeas)</h3>
                            <p class="text-sm text-text-secondary mb-3">Protein-rich traditional legumes</p>
                            <div class="flex items-center justify-between mb-3">
                                <div class="flex items-center">
                                    <span class="text-lg font-bold text-primary">KES 80</span>
                                    <span class="text-sm text-text-secondary ml-1">/kg</span>
                                </div>
                                <div class="flex items-center">
                                    <span class="text-warning text-sm">â˜…â˜…â˜…â˜…â˜†</span>
                                    <span class="text-xs text-text-secondary ml-1">(89)</span>
                                </div>
                            </div>
                            <div class="flex items-center justify-between">
                                <div class="flex items-center space-x-2">
                                    <button class="w-8 h-8 rounded-full border border-border-light flex items-center justify-center hover:border-accent transition-colors">
                                        <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 12H4"/>
                                        </svg>
                                    </button>
                                    <span class="text-sm font-medium">1</span>
                                    <button class="w-8 h-8 rounded-full border border-border-light flex items-center justify-center hover:border-accent transition-colors">
                                        <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"/>
                                        </svg>
                                    </button>
                                </div>
                                <button class="btn-primary text-sm px-4 py-2" onclick="addToCart('kunde', event)">
                                    Add to Cart
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Product Card 3 -->
                    <div class="card overflow-hidden group cursor-pointer" onclick="openProductModal('terere')">
                        <div class="relative">
                            <img src="https://images.unsplash.com/photo-1416879595882-3373a0480b5b?auto=format&fit=crop&w=400&q=80" alt="Fresh Terere" class="w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300" loading="lazy" onerror="this.src='https://images.unsplash.com/photo-1584824486509-112e4181ff6b?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'; this.onerror=null;" />
                            <div class="absolute top-3 left-3">
                                <span class="bg-primary text-white text-xs px-2 py-1 rounded-full">Rainwater</span>
                            </div>
                            <div class="absolute top-3 right-3">
                                <button class="bg-white p-2 rounded-full shadow-sm hover:bg-accent hover:text-white transition-colors">
                                    <svg class="h-4 w-4 text-accent" fill="currentColor" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"/>
                                    </svg>
                                </button>
                            </div>
                        </div>
                        <div class="p-4">
                            <div class="flex items-center mb-2">
                                <img src="https://images.pixabay.com/photo/2016/11/21/12/42/beard-1845166_1280.jpg" alt="Farmer Peter" class="w-6 h-6 rounded-full object-cover mr-2" loading="lazy" onerror="this.src='https://images.unsplash.com/photo-1584824486509-112e4181ff6b?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'; this.onerror=null;" />
                                <span class="text-xs text-text-secondary">From Meru Slopes</span>
                            </div>
                            <h3 class="font-poppins font-semibold text-primary mb-1">Fresh Terere (Amaranth)</h3>
                            <p class="text-sm text-text-secondary mb-3">Nutrient-dense leafy greens</p>
                            <div class="flex items-center justify-between mb-3">
                                <div class="flex items-center">
                                    <span class="text-lg font-bold text-primary">KES 35</span>
                                    <span class="text-sm text-text-secondary ml-1">/bunch</span>
                                </div>
                                <div class="flex items-center">
                                    <span class="text-warning text-sm">â˜…â˜…â˜…â˜…â˜…</span>
                                    <span class="text-xs text-text-secondary ml-1">(156)</span>
                                </div>
                            </div>
                            <div class="flex items-center justify-between">
                                <div class="flex items-center space-x-2">
                                    <button class="w-8 h-8 rounded-full border border-border-light flex items-center justify-center hover:border-accent transition-colors">
                                        <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 12H4"/>
                                        </svg>
                                    </button>
                                    <span class="text-sm font-medium">2</span>
                                    <button class="w-8 h-8 rounded-full border border-border-light flex items-center justify-center hover:border-accent transition-colors">
                                        <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"/>
                                        </svg>
                                    </button>
                                </div>
                                <button class="btn-primary text-sm px-4 py-2" onclick="addToCart('terere', event)">
                                    Add to Cart
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Product Card 4 -->
                    <div class="card overflow-hidden group cursor-pointer" onclick="openProductModal('maize-flour')">
                        <div class="relative">
                            <img src="https://images.pexels.com/photos/1301856/pexels-photo-1301856.jpeg?auto=compress&cs=tinysrgb&w=400" alt="Maize Flour 5kg" class="w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300" loading="lazy" onerror="this.src='https://images.unsplash.com/photo-1584824486509-112e4181ff6b?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'; this.onerror=null;" />
                            <div class="absolute top-3 left-3">
                                <span class="bg-secondary text-white text-xs px-2 py-1 rounded-full">Bulk</span>
                            </div>
                            <div class="absolute top-3 right-3">
                                <button class="bg-white p-2 rounded-full shadow-sm hover:bg-accent hover:text-white transition-colors">
                                    <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"/>
                                    </svg>
                                </button>
                            </div>
                        </div>
                        <div class="p-4">
                            <div class="flex items-center mb-2">
                                <img src="https://images.pexels.com/photos/1222271/pexels-photo-1222271.jpeg?auto=compress&cs=tinysrgb&w=40&h=40&fit=crop" alt="Farmer Samuel" class="w-6 h-6 rounded-full object-cover mr-2" loading="lazy" onerror="this.src='https://images.unsplash.com/photo-1584824486509-112e4181ff6b?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'; this.onerror=null;" />
                                <span class="text-xs text-text-secondary">From Nyeri Farms</span>
                            </div>
                            <h3 class="font-poppins font-semibold text-primary mb-1">Premium Maize Flour</h3>
                            <p class="text-sm text-text-secondary mb-3">Stone-ground white maize flour - 5kg</p>
                            <div class="flex items-center justify-between mb-3">
                                <div class="flex items-center">
                                    <span class="text-lg font-bold text-primary">KES 420</span>
                                    <span class="text-sm text-text-secondary ml-1">/5kg</span>
                                </div>
                                <div class="flex items-center">
                                    <span class="text-warning text-sm">â˜…â˜…â˜…â˜…â˜…</span>
                                    <span class="text-xs text-text-secondary ml-1">(234)</span>
                                </div>
                            </div>
                            <div class="flex items-center justify-between">
                                <div class="flex items-center space-x-2">
                                    <button class="w-8 h-8 rounded-full border border-border-light flex items-center justify-center hover:border-accent transition-colors">
                                        <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 12H4"/>
                                        </svg>
                                    </button>
                                    <span class="text-sm font-medium">1</span>
                                    <button class="w-8 h-8 rounded-full border border-border-light flex items-center justify-center hover:border-accent transition-colors">
                                        <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"/>
                                        </svg>
                                    </button>
                                </div>
                                <button class="btn-primary text-sm px-4 py-2" onclick="addToCart('maize-flour', event)">
                                    Add to Cart
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Product Card 5 -->
                    <div class="card overflow-hidden group cursor-pointer" onclick="openProductModal('tomatoes')">
                        <div class="relative">
                            <img src="https://images.pixabay.com/photo/2016/08/11/08/04/vegetables-1584999_1280.jpg" alt="Fresh Tomatoes" class="w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300" loading="lazy" onerror="this.src='https://images.unsplash.com/photo-1584824486509-112e4181ff6b?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'; this.onerror=null;" />
                            <div class="absolute top-3 left-3">
                                <span class="bg-accent text-white text-xs px-2 py-1 rounded-full">Crate</span>
                            </div>
                            <div class="absolute top-3 right-3">
                                <button class="bg-white p-2 rounded-full shadow-sm hover:bg-accent hover:text-white transition-colors">
                                    <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"/>
                                    </svg>
                                </button>
                            </div>
                            <div class="absolute bottom-3 left-3">
                                <button class="bg-secondary text-white text-xs px-2 py-1 rounded-full hover:bg-secondary-600 transition-colors">
                                    ðŸŒ± Grow Your Own
                                </button>
                            </div>
                        </div>
                        <div class="p-4">
                            <div class="flex items-center mb-2">
                                <img src="https://images.pexels.com/photos/1239291/pexels-photo-1239291.jpeg?auto=compress&cs=tinysrgb&w=40&h=40&fit=crop" alt="Farmer Grace" class="w-6 h-6 rounded-full object-cover mr-2" loading="lazy" onerror="this.src='https://images.unsplash.com/photo-1584824486509-112e4181ff6b?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'; this.onerror=null;" />
                                <span class="text-xs text-text-secondary">From Kiambu Highlands</span>
                            </div>
                            <h3 class="font-poppins font-semibold text-primary mb-1">Fresh Tomatoes (Crate)</h3>
                            <p class="text-sm text-text-secondary mb-3">Vine-ripened tomatoes - perfect for families</p>
                            <div class="flex items-center justify-between mb-3">
                                <div class="flex items-center">
                                    <span class="text-lg font-bold text-primary">KES 850</span>
                                    <span class="text-sm text-text-secondary ml-1">/crate</span>
                                </div>
                                <div class="flex items-center">
                                    <span class="text-warning text-sm">â˜…â˜…â˜…â˜…â˜†</span>
                                    <span class="text-xs text-text-secondary ml-1">(98)</span>
                                </div>
                            </div>
                            <div class="flex items-center justify-between">
                                <div class="flex items-center space-x-2">
                                    <button class="w-8 h-8 rounded-full border border-border-light flex items-center justify-center hover:border-accent transition-colors">
                                        <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 12H4"/>
                                        </svg>
                                    </button>
                                    <span class="text-sm font-medium">1</span>
                                    <button class="w-8 h-8 rounded-full border border-border-light flex items-center justify-center hover:border-accent transition-colors">
                                        <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"/>
                                        </svg>
                                    </button>
                                </div>
                                <button class="btn-primary text-sm px-4 py-2" onclick="addToCart('tomatoes', event)">
                                    Add to Cart
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Product Card 6 -->
                    <div class="card overflow-hidden group cursor-pointer" onclick="openProductModal('cooking-oil')">
                        <div class="relative">
                            <img src="https://images.unsplash.com/photo-1416879595882-3373a0480b5b?auto=format&fit=crop&w=400&q=80" alt="Cooking Oil" class="w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300" loading="lazy" onerror="this.src='https://images.unsplash.com/photo-1584824486509-112e4181ff6b?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'; this.onerror=null;" />
                            <div class="absolute top-3 left-3">
                                <span class="bg-warning text-white text-xs px-2 py-1 rounded-full">Essential</span>
                            </div>
                            <div class="absolute top-3 right-3">
                                <button class="bg-white p-2 rounded-full shadow-sm hover:bg-accent hover:text-white transition-colors">
                                    <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"/>
                                    </svg>
                                </button>
                            </div>
                        </div>
                        <div class="p-4">
                            <div class="flex items-center mb-2">
                                <img src="https://images.pixabay.com/photo/2016/11/21/12/42/beard-1845166_1280.jpg" alt="Local Supplier" class="w-6 h-6 rounded-full object-cover mr-2" loading="lazy" onerror="this.src='https://images.unsplash.com/photo-1584824486509-112e4181ff6b?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'; this.onerror=null;" />
                                <span class="text-xs text-text-secondary">Local Supplier</span>
                            </div>
                            <h3 class="font-poppins font-semibold text-primary mb-1">Premium Cooking Oil</h3>
                            <p class="text-sm text-text-secondary mb-3">Pure sunflower oil - 2L bottle</p>
                            <div class="flex items-center justify-between mb-3">
                                <div class="flex items-center">
                                    <span class="text-lg font-bold text-primary">KES 320</span>
                                    <span class="text-sm text-text-secondary ml-1">/2L</span>
                                </div>
                                <div class="flex items-center">
                                    <span class="text-warning text-sm">â˜…â˜…â˜…â˜…â˜…</span>
                                    <span class="text-xs text-text-secondary ml-1">(187)</span>
                                </div>
                            </div>
                            <div class="flex items-center justify-between">
                                <div class="flex items-center space-x-2">
                                    <button class="w-8 h-8 rounded-full border border-border-light flex items-center justify-center hover:border-accent transition-colors">
                                        <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 12H4"/>
                                        </svg>
                                    </button>
                                    <span class="text-sm font-medium">1</span>
                                    <button class="w-8 h-8 rounded-full border border-border-light flex items-center justify-center hover:border-accent transition-colors">
                                        <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"/>
                                        </svg>
                                    </button>
                                </div>
                                <button class="btn-primary text-sm px-4 py-2" onclick="addToCart('cooking-oil', event)">
                                    Add to Cart
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Load More Button -->
                <div class="text-center mt-12">
                    <button class="btn-secondary px-8 py-3">
                        Load More Products
                    </button>
                </div>
            </div>
        </div>
    </main>

    <!-- Subscription Boxes Section -->
    <section class="py-16 bg-surface">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-poppins font-bold text-primary mb-4">Curated Subscription Boxes</h2>
                <p class="text-lg text-text-secondary max-w-2xl mx-auto">
                    Get fresh, seasonal produce delivered regularly with our expertly curated boxes
                </p>
            </div>

            <div class="grid md:grid-cols-3 gap-8">
                <!-- Urban Family Weekly -->
                <div class="card p-6 text-center">
                    <div class="bg-primary-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4">
                        <svg class="h-8 w-8 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z"/>
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5a2 2 0 012-2h4a2 2 0 012 2v3H8V5z"/>
                        </svg>
                    </div>
                    <h3 class="font-poppins font-semibold text-primary text-xl mb-2">Urban Family Weekly</h3>
                    <p class="text-text-secondary mb-4">Perfect for families of 4-6. Includes staples like sukuma wiki, tomatoes, onions, and seasonal fruits.</p>
                    <div class="text-2xl font-bold text-primary mb-4">KES 1,200/week</div>
                    <ul class="text-sm text-text-secondary mb-6 space-y-1">
                        <li>â€¢ 8-10 fresh produce items</li>
                        <li>â€¢ Recipe suggestions included</li>
                        <li>â€¢ Free delivery in Nairobi</li>
                        <li>â€¢ Cancel anytime</li>
                    </ul>
                    <button class="btn-primary w-full">Subscribe Now</button>
                </div>

                <!-- Traditional Vegetables Monthly -->
                <div class="card p-6 text-center border-2 border-accent">
                    <div class="bg-accent-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4">
                        <svg class="h-8 w-8 text-accent" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707"/>
                        </svg>
                    </div>
                    <div class="bg-accent text-white text-xs px-2 py-1 rounded-full inline-block mb-2">Most Popular</div>
                    <h3 class="font-poppins font-semibold text-primary text-xl mb-2">Traditional Vegetables Monthly</h3>
                    <p class="text-text-secondary mb-4">Discover authentic Kenyan vegetables like kunde, terere, managu, and seasonal indigenous varieties.</p>
                    <div class="text-2xl font-bold text-primary mb-4">KES 800/month</div>
                    <ul class="text-sm text-text-secondary mb-6 space-y-1">
                        <li>â€¢ 6-8 traditional vegetables</li>
                        <li>â€¢ Cultural cooking tips</li>
                        <li>â€¢ Nutritional information</li>
                        <li>â€¢ Growing guides included</li>
                    </ul>
                    <button class="btn-primary w-full">Subscribe Now</button>
                </div>

                <!-- Seasonal Fruit Discovery -->
                <div class="card p-6 text-center">
                    <div class="bg-secondary-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4">
                        <svg class="h-8 w-8 text-secondary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
                        </svg>
                    </div>
                    <h3 class="font-poppins font-semibold text-primary text-xl mb-2">Seasonal Fruit Discovery</h3>
                    <p class="text-text-secondary mb-4">Explore Kenya's tropical fruits - mangoes, avocados, passion fruits, and rare seasonal varieties.</p>
                    <div class="text-2xl font-bold text-primary mb-4">KES 950/month</div>
                    <ul class="text-sm text-text-secondary mb-6 space-y-1">
                        <li>â€¢ 5-7 seasonal fruits</li>
                        <li>â€¢ Ripeness guide included</li>
                        <li>â€¢ Health benefits info</li>
                        <li>â€¢ Surprise rare varieties</li>
                    </ul>
                    <button class="btn-primary w-full">Subscribe Now</button>
                </div>
            </div>
        </div>
    </section>

    <!-- AI Recommendations -->
    <section class="py-16 bg-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-poppins font-bold text-primary mb-4">Recommended for You</h2>
                <p class="text-lg text-text-secondary">Based on your shopping patterns and Kenyan cooking preferences</p>
            </div>

            <div class="grid md:grid-cols-4 gap-6">
                <!-- Recommendation 1 -->
                <div class="card overflow-hidden">
                    <img src="https://images.pexels.com/photos/1300972/pexels-photo-1300972.jpeg?auto=compress&cs=tinysrgb&w=300" alt="Onions" class="w-full h-32 object-cover" loading="lazy" onerror="this.src='https://images.unsplash.com/photo-1584824486509-112e4181ff6b?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'; this.onerror=null;" />
                    <div class="p-4">
                        <h4 class="font-poppins font-semibold text-primary text-sm mb-1">Red Onions</h4>
                        <p class="text-xs text-text-secondary mb-2">Perfect with your tomatoes</p>
                        <div class="flex items-center justify-between">
                            <span class="text-sm font-bold text-primary">KES 120/kg</span>
                            <button class="text-accent text-xs hover:text-accent-600">Add</button>
                        </div>
                    </div>
                </div>

                <!-- Recommendation 2 -->
                <div class="card overflow-hidden">
                    <img src="https://images.pixabay.com/photo/2017/05/11/19/44/fresh-fruits-2305192_1280.jpg" alt="Coriander" class="w-full h-32 object-cover" loading="lazy" onerror="this.src='https://images.unsplash.com/photo-1584824486509-112e4181ff6b?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'; this.onerror=null;" />
                    <div class="p-4">
                        <h4 class="font-poppins font-semibold text-primary text-sm mb-1">Fresh Coriander</h4>
                        <p class="text-xs text-text-secondary mb-2">Great for your vegetable dishes</p>
                        <div class="flex items-center justify-between">
                            <span class="text-sm font-bold text-primary">KES 25/bunch</span>
                            <button class="text-accent text-xs hover:text-accent-600">Add</button>
                        </div>
                    </div>
                </div>

                <!-- Recommendation 3 -->
                <div class="card overflow-hidden">
                    <img src="https://images.unsplash.com/photo-1416879595882-3373a0480b5b?auto=format&fit=crop&w=300&q=80" alt="Garlic" class="w-full h-32 object-cover" loading="lazy" onerror="this.src='https://images.unsplash.com/photo-1584824486509-112e4181ff6b?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'; this.onerror=null;" />
                    <div class="p-4">
                        <h4 class="font-poppins font-semibold text-primary text-sm mb-1">Fresh Garlic</h4>
                        <p class="text-xs text-text-secondary mb-2">Essential for flavor</p>
                        <div class="flex items-center justify-between">
                            <span class="text-sm font-bold text-primary">KES 180/kg</span>
                            <button class="text-accent text-xs hover:text-accent-600">Add</button>
                        </div>
                    </div>
                </div>

                <!-- Garden Service Cross-sell -->
                <div class="card overflow-hidden bg-secondary-50 border-2 border-secondary-200">
                    <img src="https://images.pexels.com/photos/1301856/pexels-photo-1301856.jpeg?auto=compress&cs=tinysrgb&w=300" alt="Garden consultation" class="w-full h-32 object-cover" loading="lazy" onerror="this.src='https://images.unsplash.com/photo-1584824486509-112e4181ff6b?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'; this.onerror=null;" />
                    <div class="p-4">
                        <h4 class="font-poppins font-semibold text-secondary text-sm mb-1">ðŸŒ± Grow Your Own</h4>
                        <p class="text-xs text-text-secondary mb-2">Start your tomato garden</p>
                        <div class="flex items-center justify-between">
                            <span class="text-sm font-bold text-secondary">Free Consultation</span>
                            <a href="garden_services_hub.html" class="text-secondary text-xs hover:text-secondary-600">Book</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Shopping Cart Sidebar -->
    <div id="cartSidebar" class="fixed inset-y-0 right-0 w-96 bg-white shadow-xl transform translate-x-full transition-transform duration-300 ease-out z-50">
        <div class="flex flex-col h-full">
            <!-- Cart Header -->
            <div class="flex items-center justify-between p-6 border-b border-border-light">
                <h3 class="font-poppins font-semibold text-primary text-lg">Shopping Cart</h3>
                <button onclick="toggleCart()" class="p-2 hover:bg-surface rounded-lg transition-colors">
                    <svg class="h-6 w-6 text-text-secondary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
                    </svg>
                </button>
            </div>

            <!-- Cart Items -->
            <div class="flex-1 overflow-y-auto p-6">
                <div class="space-y-4" id="cartItems">
                    <!-- Cart Item 1 -->
                    <div class="flex items-center space-x-4 p-4 bg-surface rounded-lg">
                        <img src="https://images.pexels.com/photos/1300972/pexels-photo-1300972.jpeg?auto=compress&cs=tinysrgb&w=80" alt="Sukuma Wiki" class="w-16 h-16 object-cover rounded-lg" loading="lazy" onerror="this.src='https://images.unsplash.com/photo-1584824486509-112e4181ff6b?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'; this.onerror=null;" />
                        <div class="flex-1">
                            <h4 class="font-medium text-primary">Fresh Sukuma Wiki</h4>
                            <p class="text-sm text-text-secondary">KES 45/bunch</p>
                            <div class="flex items-center space-x-2 mt-2">
                                <button class="w-6 h-6 rounded-full border border-border-light flex items-center justify-center text-xs">-</button>
                                <span class="text-sm">1</span>
                                <button class="w-6 h-6 rounded-full border border-border-light flex items-center justify-center text-xs">+</button>
                            </div>
                        </div>
                        <div class="text-right">
                            <div class="font-semibold text-primary">KES 45</div>
                            <button class="text-error text-sm hover:text-error-600">Remove</button>
                        </div>
                    </div>

                    <!-- Cart Item 2 -->
                    <div class="flex items-center space-x-4 p-4 bg-surface rounded-lg">
                        <img src="https://images.unsplash.com/photo-1416879595882-3373a0480b5b?auto=format&fit=crop&w=80&q=80" alt="Terere" class="w-16 h-16 object-cover rounded-lg" loading="lazy" onerror="this.src='https://images.unsplash.com/photo-1584824486509-112e4181ff6b?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'; this.onerror=null;" />
                        <div class="flex-1">
                            <h4 class="font-medium text-primary">Fresh Terere</h4>
                            <p class="text-sm text-text-secondary">KES 35/bunch</p>
                            <div class="flex items-center space-x-2 mt-2">
                                <button class="w-6 h-6 rounded-full border border-border-light flex items-center justify-center text-xs">-</button>
                                <span class="text-sm">2</span>
                                <button class="w-6 h-6 rounded-full border border-border-light flex items-center justify-center text-xs">+</button>
                            </div>
                        </div>
                        <div class="text-right">
                            <div class="font-semibold text-primary">KES 70</div>
                            <button class="text-error text-sm hover:text-error-600">Remove</button>
                        </div>
                    </div>

                    <!-- Cart Item 3 -->
                    <div class="flex items-center space-x-4 p-4 bg-surface rounded-lg">
                        <img src="https://images.pexels.com/photos/1301856/pexels-photo-1301856.jpeg?auto=compress&cs=tinysrgb&w=80" alt="Maize Flour" class="w-16 h-16 object-cover rounded-lg" loading="lazy" onerror="this.src='https://images.unsplash.com/photo-1584824486509-112e4181ff6b?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'; this.onerror=null;" />
                        <div class="flex-1">
                            <h4 class="font-medium text-primary">Premium Maize Flour</h4>
                            <p class="text-sm text-text-secondary">KES 420/5kg</p>
                            <div class="flex items-center space-x-2 mt-2">
                                <button class="w-6 h-6 rounded-full border border-border-light flex items-center justify-center text-xs">-</button>
                                <span class="text-sm">1</span>
                                <button class="w-6 h-6 rounded-full border border-border-light flex items-center justify-center text-xs">+</button>
                            </div>
                        </div>
                        <div class="text-right">
                            <div class="font-semibold text-primary">KES 420</div>
                            <button class="text-error text-sm hover:text-error-600">Remove</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Cart Footer -->
            <div class="border-t border-border-light p-6">
                <div class="space-y-4">
                    <div class="flex justify-between text-sm">
                        <span class="text-text-secondary">Subtotal</span>
                        <span class="font-medium">KES 535</span>
                    </div>
                    <div class="flex justify-between text-sm">
                        <span class="text-text-secondary">Delivery</span>
                        <span class="font-medium text-success">Free</span>
                    </div>
                    <div class="border-t border-border-light pt-4">
                        <div class="flex justify-between text-lg font-semibold">
                            <span>Total</span>
                            <span class="text-primary">KES 535</span>
                        </div>
                    </div>
                    <div class="space-y-3">
                        <form class="checkout-form space-y-3">
                            <input type="hidden" name="user_id" value="1" />
                            <input type="hidden" name="payment_method" value="Mpesa" />
                            <label class="block text-sm text-text-secondary">Delivery Address</label>
                            <textarea name="delivery_address" class="input-field w-full" rows="2" placeholder="e.g., Westlands, Nairobi" required></textarea>
                            <button type="submit" class="btn-primary w-full">Checkout with M-Pesa</button>
                        </form>
                        <button class="btn-secondary w-full" onclick="toggleCart()">Continue Shopping</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Cart Overlay -->
    <div id="cartOverlay" class="fixed inset-0 bg-black bg-opacity-50 z-40 hidden" onclick="toggleCart()"></div>

    <!-- Product Modal -->
    <div id="productModal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden flex items-center justify-center p-4">
        <div class="bg-white rounded-xl max-w-4xl w-full max-h-screen overflow-y-auto">
            <div class="p-6">
                <div class="flex justify-between items-center mb-6">
                    <h2 class="text-2xl font-poppins font-bold text-primary">Product Details</h2>
                    <button onclick="closeProductModal()" class="p-2 hover:bg-surface rounded-lg transition-colors">
                        <svg class="h-6 w-6 text-text-secondary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
                        </svg>
                    </button>
                </div>
                
                <div id="modalContent">
                    <!-- Modal content will be populated by JavaScript -->
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-primary-800 text-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
            <div class="grid md:grid-cols-4 gap-8">
                <!-- Company Info -->
                <div>
                    <div class="flex items-center mb-4">
                        <svg class="h-8 w-8 text-accent" viewBox="0 0 40 40" fill="currentColor">
                            <path d="M20 2C15.5 2 12 5.5 12 10c0 2.5 1 4.8 2.6 6.5L20 22l5.4-5.5C27 14.8 28 12.5 28 10c0-4.5-3.5-8-8-8zm0 11c-1.7 0-3-1.3-3-3s1.3-3 3-3 3 1.3 3 3-1.3 3-3 3z"/>
                            <path d="M8 25c0-2 1.5-3.5 3.5-3.5h17c2 0 3.5 1.5 3.5 3.5v10c0 2-1.5 3.5-3.5 3.5h-17C9.5 38.5 8 37 8 35V25z"/>
                            <circle cx="15" cy="30" r="2" fill="white"/>
                            <circle cx="25" cy="30" r="2" fill="white"/>
                        </svg>
                        <span class="ml-2 text-xl font-poppins font-bold">GreenGrove Market</span>
                    </div>
                    <p class="text-primary-200 mb-4">Living Fresh, Growing Forward</p>
                    <p class="text-primary-300 text-sm">Kenya's premier seed-to-table ecosystem, connecting you with fresh groceries and expert garden services.</p>
                </div>

                <!-- Quick Links -->
                <div>
                    <h3 class="font-poppins font-semibold mb-4">Quick Links</h3>
                    <ul class="space-y-2">
                        <li><a href="product_marketplace.html" class="text-primary-200 hover:text-white transition-colors">Shop Groceries</a></li>
                        <li><a href="garden_services_hub.html" class="text-primary-200 hover:text-white transition-colors">Garden Services</a></li>
                        <li><a href="knowledge_center.html" class="text-primary-200 hover:text-white transition-colors">Knowledge Center</a></li>
                        <li><a href="customer_dashboard.html" class="text-primary-200 hover:text-white transition-colors">My Account</a></li>
                    </ul>
                </div>

                <!-- Support -->
                <div>
                    <h3 class="font-poppins font-semibold mb-4">Support</h3>
                    <ul class="space-y-2">
                        <li><a href="contact_support.html" class="text-primary-200 hover:text-white transition-colors">Contact Us</a></li>
                        <li><a href="javascript:void(0)" class="text-primary-200 hover:text-white transition-colors">FAQ</a></li>
                        <li><a href="javascript:void(0)" class="text-primary-200 hover:text-white transition-colors">Delivery Info</a></li>
                        <li><a href="javascript:void(0)" class="text-primary-200 hover:text-white transition-colors">Returns</a></li>
                    </ul>
                </div>

                <!-- Contact -->
                <div>
                    <h3 class="font-poppins font-semibold mb-4">Contact</h3>
                    <div class="space-y-2 text-primary-200">
                        <p class="flex items-center">
                            <svg class="h-4 w-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/>
                            </svg>
                            +254 700 123 456
                        </p>
                        <p class="flex items-center">
                            <svg class="h-4 w-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
                            </svg>
                            hello@greengrove.co.ke
                        </p>
                        <p class="flex items-start">
                            <svg class="h-4 w-4 mr-2 mt-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/>
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/>
                            </svg>
                            Westlands, Nairobi, Kenya
                        </p>
                    </div>
                </div>
            </div>

            <div class="border-t border-primary-700 mt-8 pt-8 text-center">
                <p class="text-primary-300">Â© 2025 GreenGrove Market. All Rights Reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Mobile Bottom Navigation -->
    <div class="fixed bottom-0 left-0 right-0 bg-white border-t border-border-light md:hidden z-40">
        <div class="grid grid-cols-4 gap-1">
            <a href="homepage.html" class="flex flex-col items-center py-2 px-1 text-text-secondary">
                <svg class="h-6 w-6 mb-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"/>
                </svg>
                <span class="text-xs font-medium">Home</span>
            </a>
            <a href="product_marketplace.html" class="flex flex-col items-center py-2 px-1 text-primary">
                <svg class="h-6 w-6 mb-1" fill="currentColor" viewBox="0 0 20 20">
                    <path d="M3 1a1 1 0 000 2h1.22l.305 1.222a.997.997 0 00.01.042l1.358 5.43-.893.892C3.74 11.846 4.632 14 6.414 14H15a1 1 0 000-2H6.414l1-1H14a1 1 0 00.894-.553l3-6A1 1 0 0017 3H6.28l-.31-1.243A1 1 0 005 1H3zM16 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM6.5 18a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"/>
                </svg>
                <span class="text-xs font-medium">Shop</span>
            </a>
            <a href="garden_services_hub.html" class="flex flex-col items-center py-2 px-1 text-text-secondary">
                <svg class="h-6 w-6 mb-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707"/>
                </svg>
                <span class="text-xs font-medium">Garden</span>
            </a>
            <a href="customer_dashboard.html" class="flex flex-col items-center py-2 px-1 text-text-secondary">
                <svg class="h-6 w-6 mb-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
                </svg>
                <span class="text-xs font-medium">Account</span>
            </a>
        </div>
    </div>

    <script>
        // Mobile menu toggle
        function toggleMobileMenu() {
            const menu = document.getElementById('mobileMenu');
            menu.classList.toggle('hidden');
        }

        // Search toggle
        function toggleSearch() {
            const searchBar = document.getElementById('searchBar');
            const searchInput = document.getElementById('searchInput');
            searchBar.classList.toggle('hidden');
            if (!searchBar.classList.contains('hidden')) {
                searchInput.focus();
            }
        }

        // Cart toggle
        function toggleCart() {
            const cartSidebar = document.getElementById('cartSidebar');
            const cartOverlay = document.getElementById('cartOverlay');
            
            cartSidebar.classList.toggle('translate-x-full');
            cartOverlay.classList.toggle('hidden');
        }

        // Category tabs
        document.querySelectorAll('.category-tab').forEach(tab => {
            tab.addEventListener('click', function() {
                // Remove active class from all tabs
                document.querySelectorAll('.category-tab').forEach(t => {
                    t.classList.remove('active', 'border-accent', 'text-accent');
                    t.classList.add('border-transparent', 'text-text-secondary');
                });
                
                // Add active class to clicked tab
                this.classList.add('active', 'border-accent', 'text-accent');
                this.classList.remove('border-transparent', 'text-text-secondary');
                
                // Show/hide appropriate filters
                const category = this.dataset.category;
                const groceryFilters = document.getElementById('groceryFilters');
                const suppliesFilters = document.getElementById('suppliesFilters');
                
                if (category === 'groceries') {
                    groceryFilters.classList.remove('hidden');
                    suppliesFilters.classList.add('hidden');
                } else {
                    groceryFilters.classList.add('hidden');
                    suppliesFilters.classList.remove('hidden');
                }
            });
        });

        // Reset filters
        function resetFilters() {
            document.querySelectorAll('input[type="checkbox"]').forEach(checkbox => {
                checkbox.checked = false;
            });
            document.querySelectorAll('input[type="radio"]').forEach(radio => {
                radio.checked = false;
            });
        }

        // Add to cart
        function addToCart(productId, event) {
            event.stopPropagation();
            
            // Update cart count
            const cartCount = document.getElementById('cartCount');
            let currentCount = parseInt(cartCount.textContent);
            cartCount.textContent = currentCount + 1;
            
            // Show success message (you can enhance this)
            const button = event.target;
            const originalText = button.textContent;
            button.textContent = 'Added!';
            button.classList.add('bg-success', 'hover:bg-success-600');
            button.classList.remove('bg-accent', 'hover:bg-accent-600');
            
            setTimeout(() => {
                button.textContent = originalText;
                button.classList.remove('bg-success', 'hover:bg-success-600');
                button.classList.add('bg-accent', 'hover:bg-accent-600');
            }, 1500);
        }

        // Product modal
        function openProductModal(productId) {
            const modal = document.getElementById('productModal');
            const modalContent = document.getElementById('modalContent');
            
            // Sample product data (in a real app, this would come from an API)
            const productData = {
                'sukuma-wiki': {
                    name: 'Fresh Sukuma Wiki',
                    price: 'KES 45',
                    unit: '/bunch',
                    image: 'https://images.pexels.com/photos/1300972/pexels-photo-1300972.jpeg?auto=compress&cs=tinysrgb&w=600',
                    farmer: 'Farmer John from Kiambu Highlands',
                    description: 'Fresh, organically grown sukuma wiki (collard greens) perfect for traditional Kenyan dishes. Rich in vitamins A, C, and K.',
                    growingTips: 'Sukuma wiki grows best in well-drained soil with partial shade. Water regularly but avoid waterlogging.',
                    recipes: ['Sukuma Wiki with Ugali', 'Sukuma Wiki Stir-fry', 'Traditional Sukuma Wiki Stew']
                },
                'terere': {
                    name: 'Fresh Terere (Amaranth)',
                    price: 'KES 35',
                    unit: '/bunch',
                    image: 'https://images.unsplash.com/photo-1416879595882-3373a0480b5b?auto=format&fit=crop&w=600&q=80',
                    farmer: 'Farmer Peter from Meru Slopes',
                    description: 'Nutrient-dense amaranth leaves, a traditional Kenyan vegetable packed with iron, calcium, and protein.',
                    growingTips: 'Terere thrives in warm weather and well-drained soil. Harvest young leaves for the best flavor.',
                    recipes: ['Terere with Groundnuts', 'Terere and Beef Stew', 'Simple SautÃ©ed Terere']
                }
            };
            
            const product = productData[productId] || productData['sukuma-wiki'];
            
            modalContent.innerHTML = `
                <div class="grid md:grid-cols-2 gap-8">
                    <div>
                        <img src="${product.image}" alt="${product.name}" class="w-full h-80 object-cover rounded-lg mb-4"
                             onerror="this.src='https://images.unsplash.com/photo-1584824486509-112e4181ff6b?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'; this.onerror=null;">
                        <div class="grid grid-cols-3 gap-2">
                            <img src="${product.image}" alt="View 1" class="w-full h-20 object-cover rounded cursor-pointer"
                                 onerror="this.src='https://images.unsplash.com/photo-1584824486509-112e4181ff6b?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'; this.onerror=null;">
                            <img src="${product.image}" alt="View 2" class="w-full h-20 object-cover rounded cursor-pointer"
                                 onerror="this.src='https://images.unsplash.com/photo-1584824486509-112e4181ff6b?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'; this.onerror=null;">
                            <img src="${product.image}" alt="View 3" class="w-full h-20 object-cover rounded cursor-pointer"
                                 onerror="this.src='https://images.unsplash.com/photo-1584824486509-112e4181ff6b?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'; this.onerror=null;">
                        </div>
                    </div>
                    <div>
                        <h3 class="text-2xl font-poppins font-bold text-primary mb-2">${product.name}</h3>
                        <p class="text-text-secondary mb-4">${product.farmer}</p>
                        <div class="flex items-center mb-4">
                            <span class="text-3xl font-bold text-primary">${product.price}</span>
                            <span class="text-lg text-text-secondary ml-1">${product.unit}</span>
                        </div>
                        <div class="flex items-center mb-6">
                            <span class="text-warning text-lg">â˜…â˜…â˜…â˜…â˜…</span>
                            <span class="text-sm text-text-secondary ml-2">(127 reviews)</span>
                        </div>
                        
                        <div class="mb-6">
                            <h4 class="font-poppins font-semibold text-primary mb-2">Description</h4>
                            <p class="text-text-secondary">${product.description}</p>
                        </div>
                        
                        <div class="mb-6">
                            <h4 class="font-poppins font-semibold text-primary mb-2">Growing Tips</h4>
                            <p class="text-text-secondary text-sm">${product.growingTips}</p>
                            <a href="garden_services_hub.html" class="text-secondary hover:text-secondary-600 text-sm font-medium">
                                ðŸŒ± Book garden consultation â†’
                            </a>
                        </div>
                        
                        <div class="mb-6">
                            <h4 class="font-poppins font-semibold text-primary mb-2">Recipe Ideas</h4>
                            <ul class="text-text-secondary text-sm space-y-1">
                                ${product.recipes.map(recipe => `<li>â€¢ ${recipe}</li>`).join('')}
                            </ul>
                        </div>
                        
                        <div class="flex items-center space-x-4 mb-6">
                            <div class="flex items-center space-x-2">
                                <button class="w-10 h-10 rounded-full border border-border-light flex items-center justify-center hover:border-accent transition-colors">
                                    <svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 12H4"></path>
                                    </svg>
                                </button>
                                <span class="text-lg font-medium px-4">1</span>
                                <button class="w-10 h-10 rounded-full border border-border-light flex items-center justify-center hover:border-accent transition-colors">
                                    <svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
                                    </svg>
                                </button>
                            </div>
                            <button class="btn-primary flex-1" onclick="addToCart('${productId}', event)">
                                Add to Cart
                            </button>
                        </div>
                        
                        <div class="border-t border-border-light pt-4">
                            <div class="flex items-center justify-between text-sm text-text-secondary">
                                <span>Free delivery in Nairobi</span>
                                <span>48hr freshness guarantee</span>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            modal.classList.remove('hidden');
        }

        function closeProductModal() {
            const modal = document.getElementById('productModal');
            modal.classList.add('hidden');
        }

        // Close modal when clicking outside
        document.getElementById('productModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeProductModal();
            }
        });

        // Search functionality
        document.getElementById('searchInput').addEventListener('input', function(e) {
            const searchTerm = e.target.value.toLowerCase();
            // In a real app, this would filter products
            console.log('Searching for:', searchTerm);
        });

        // Voice search (placeholder)
        function startVoiceSearch() {
            if ('webkitSpeechRecognition' in window) {
                const recognition = new webkitSpeechRecognition();
                recognition.lang = 'en-KE';
                recognition.start();
                
                recognition.onresult = function(event) {
                    const transcript = event.results[0][0].transcript;
                    document.getElementById('searchInput').value = transcript;
                };
            }
        }
    </script>
<script id="dhws-dataInjector" src="../public/dhws-data-injector.js"></script>
</body>
<script>
(function(){
  const API_BASE = (window.__API_BASE__ || 'http://localhost:4000/api');
  const grid = document.getElementById('productGrid');
  const searchInput = document.getElementById('searchInput');
  const formatter = new Intl.NumberFormat('en-KE', { style:'currency', currency:'KES' });

  function productCard(p){
    const div = document.createElement('div');
    div.className = 'card overflow-hidden group';
    div.innerHTML = `
      <div class="relative">
        <img src="https://images.unsplash.com/photo-1416879595882-3373a0480b5b?auto=format&fit=crop&w=400&q=80" alt="${p.name}" class="w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300" loading="lazy" />
      </div>
      <div class="p-4">
        <h3 class="font-poppins font-semibold text-primary mb-1">${p.name}</h3>
        <p class="text-sm text-text-secondary mb-3">${(p.description||'').slice(0,80)}</p>
        <div class="flex items-center justify-between mb-3">
          <div class="flex items-center">
            <span class="text-lg font-bold text-primary">${formatter.format(Number(p.price)||0)}</span>
          </div>
        </div>
        <div class="flex items-center justify-between">
          <div></div>
          <button class="btn-primary text-sm px-4 py-2 add-to-cart" aria-label="Add ${p.name} to cart" data-product='${JSON.stringify({id:p.id,name:p.name,price:Number(p.price)||0}).replace(/"/g, '&quot;')}'>Add to Cart</button>
        </div>
      </div>`;
    return div;
  }

  async function fetchJSON(url){
    const r = await fetch(url);
    if(!r.ok) throw new Error('Failed');
    return r.json();
  }

  async function loadProducts(q){
    grid.innerHTML = '';
    const url = new URL(API_BASE + '/products');
    if (q) url.searchParams.set('q', q);
    url.searchParams.set('active','1');
    const items = await fetchJSON(url.toString());
    if (!items.length){
      grid.innerHTML = '<p class="text-text-secondary">No products found.</p>';
      return;
    }
    const frag = document.createDocumentFragment();
    items.forEach(p=> frag.appendChild(productCard(p)));
    grid.appendChild(frag);
  }

  let t=null;
  if (searchInput){
    searchInput.addEventListener('input', (e)=>{
      const v = e.target.value.trim();
      clearTimeout(t);
      t = setTimeout(()=> loadProducts(v || undefined), 300);
    });
  }

  document.addEventListener('DOMContentLoaded', ()=>{
    loadProducts().catch(console.error);
  });
})();
</script>
<script src="../js/main.js"></script>
</body>
</html>